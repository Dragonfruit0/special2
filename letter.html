<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Letter</title>
    <style>
        /* ... all your styles ... */
    </style>
</head>
<body>
    <div class="bokeh">
        <!-- Bokeh elements added by JS -->
    </div>
    <div class="container">
        <div class="letter"></div>
        <div class="signature"></div>
        <button class="next-button">Continue to Next Surprise ❤️</button>
    </div>
    <div class="loading-hearts">
        <span>❤️</span>
        <span>❤️</span>
        <span>❤️</span>
    </div>
    <script>
        const loveLetter = `Hey Love,
// ... rest of the letter ...
`;
        
        const signature = "❤️ Your Forever Love ❤️";
        
        const letter = document.querySelector('.letter');
        const signatureElement = document.querySelector('.signature');
        const nextButton = document.querySelector('.next-button');
        const loadingHearts = document.querySelector('.loading-hearts');
        
        let letterIndex = 0;
        let isWriting = true;
        
        // Add cursor element
        const cursor = document.createElement('span');
        cursor.className = 'cursor';
        letter.appendChild(cursor);
        
        function writeLetter() {
            if (letterIndex < loveLetter.length) {
                letter.textContent = loveLetter.substring(0, letterIndex + 1);
                letter.appendChild(cursor);
                letterIndex++;
                
                const currentChar = loveLetter[letterIndex - 1];
                let delay = 50;
                
                if (/[,.!]/.test(currentChar)) delay = 400;
                if (/\n/.test(currentChar)) delay = 800;
                
                setTimeout(writeLetter, delay);
            } else {
                isWriting = false;
                cursor.remove();
                
                setTimeout(() => {
                    signatureElement.textContent = signature;
                    signatureElement.classList.add('show');
                    
                    setTimeout(() => {
                        nextButton.classList.add('show');
                    }, 1000);
                }, 500);
            }
        }
        
        setTimeout(writeLetter, 1000);
        
        nextButton.addEventListener('click', () => {
            document.querySelector('.container').classList.add('fade-out');
            loadingHearts.classList.add('show');
            
            setTimeout(() => {
                window.location.href = 'book.html'; // Replace with your next page URL
            }, 2000);
        });
    </script>
</body>
</html>
